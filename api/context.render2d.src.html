
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>context.render2d.js</title>
   <link rel=stylesheet href="default.css" type="text/css" media=screen>
   <meta name="generator" content="JsDoc Toolkit 1.0">
   <style>
      body {
         font-size: 10pt;
         font-family: Helvetica, Arial, san-serif;
      }

      .TableHeadingColor { font-size: 18pt; font-weight: bold; background: #CCCCFF; }
      .TableRowColor { background: #FFFFFF; }
      
      .jsdoc_ctime
      {
         font-family: Arial, Helvetica, sans-serif;
         font-size: 9pt;
         text-align: right;
      }
      .jsdoc_copy
      {
         font-family: Arial, Helvetica, sans-serif;
         font-size: 9pt;
         text-align: left;
         font-style: italic;
      }
   </style>
</head>
<body>
<div style="text-align: center;">
   <h1>context.render2d.js</h1>
</div>
<br/>
<h4>Summary</h4>
The base 2D render context.  This context implements a number of              methods which are then standard on all contexts which extend from              it.

<br/>
<hr>
<table border="1" width="100%" cellpadding="2">
   <tr>
      <td colspan="2" class="TableHeadingColor">Class Summary</td>
   </tr>
   
      <tr class="TableRowColor">
         <td>
            <a href="RenderContext2D.html" target="main">RenderContext2D</a>
         </td>
         <td>
            
All 2D contexts should extend from this to inherit themethods which abstract the drawing methods.
         </td>
      </tr>
   
</table>
<br/>
<hr>
<style>
         .KEYW {color: #933;}
         .COMM {color: #bbb; font-style: italic;}
         .NUMB {color: #393;}
         .STRN {color: #393;}
         .REGX {color: #339;}
         .linenumber {border-right: 1px dotted #666; color: #666; font-style: normal;}
         </style><pre><span class='linenumber'>  1</span> <span class="COMM">/**
<span class='linenumber'>  2</span>  * The Render Engine
<span class='linenumber'>  3</span>  * RenderContext2D
<span class='linenumber'>  4</span>  *
<span class='linenumber'>  5</span>  * @fileoverview The base 2D render context.  This context implements a number of
<span class='linenumber'>  6</span>  *               methods which are then standard on all contexts which extend from
<span class='linenumber'>  7</span>  *               it.
<span class='linenumber'>  8</span>  *
<span class='linenumber'>  9</span>  * @author: Brett Fattori (brettf@renderengine.com)
<span class='linenumber'> 10</span>  * @author: $Author: bfattori $
<span class='linenumber'> 11</span>  * @version: $Revision: 630 $
<span class='linenumber'> 12</span>  *
<span class='linenumber'> 13</span>  * Copyright (c) 2008 Brett Fattori (brettf@renderengine.com)
<span class='linenumber'> 14</span>  *
<span class='linenumber'> 15</span>  * Permission is hereby granted, free of charge, to any person obtaining a copy
<span class='linenumber'> 16</span>  * of this software and associated documentation files (the "Software"), to deal
<span class='linenumber'> 17</span>  * in the Software without restriction, including without limitation the rights
<span class='linenumber'> 18</span>  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
<span class='linenumber'> 19</span>  * copies of the Software, and to permit persons to whom the Software is
<span class='linenumber'> 20</span>  * furnished to do so, subject to the following conditions:
<span class='linenumber'> 21</span>  *
<span class='linenumber'> 22</span>  * The above copyright notice and this permission notice shall be included in
<span class='linenumber'> 23</span>  * all copies or substantial portions of the Software.
<span class='linenumber'> 24</span>  *
<span class='linenumber'> 25</span>  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
<span class='linenumber'> 26</span>  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
<span class='linenumber'> 27</span>  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
<span class='linenumber'> 28</span>  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
<span class='linenumber'> 29</span>  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
<span class='linenumber'> 30</span>  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
<span class='linenumber'> 31</span>  * THE SOFTWARE.
<span class='linenumber'> 32</span>  *
<span class='linenumber'> 33</span>  */</span><span class="WHIT">
<span class='linenumber'> 34</span> 
<span class='linenumber'> 35</span> </span><span class="COMM">// Includes</span><span class="WHIT">
<span class='linenumber'> 36</span> </span><span class="NAME">Engine.include</span><span class="PUNC">(</span><span class="STRN">"/engine/engine.math2d.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 37</span> </span><span class="NAME">Engine.include</span><span class="PUNC">(</span><span class="STRN">"/engine/engine.rendercontext.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 38</span> 
<span class='linenumber'> 39</span> </span><span class="NAME">Engine.initObject</span><span class="PUNC">(</span><span class="STRN">"RenderContext2D"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"RenderContext"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 40</span> 
<span class='linenumber'> 41</span> </span><span class="COMM">/**
<span class='linenumber'> 42</span>  * @class All 2D contexts should extend from this to inherit the
<span class='linenumber'> 43</span>  * methods which abstract the drawing methods.
<span class='linenumber'> 44</span>  * @extends RenderContext
<span class='linenumber'> 45</span>  */</span><span class="WHIT">
<span class='linenumber'> 46</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">RenderContext2D</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">RenderContext.extend</span><span class="PUNC">(</span><span class="COMM">/** @scope RenderContext2D.prototype */</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 47</span> 
<span class='linenumber'> 48</span> </span><span class="WHIT">   </span><span class="NAME">width</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 49</span> </span><span class="WHIT">   </span><span class="NAME">height</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 50</span> </span><span class="WHIT">   </span><span class="NAME">lineStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 51</span> </span><span class="WHIT">   </span><span class="NAME">fillStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 52</span> </span><span class="WHIT">   </span><span class="NAME">lineWidth</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 53</span> </span><span class="WHIT">   </span><span class="NAME">position</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 54</span> </span><span class="WHIT">   </span><span class="NAME">rotation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 55</span> </span><span class="WHIT">   </span><span class="NAME">scaleX</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 56</span> </span><span class="WHIT">   </span><span class="NAME">scaleY</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 57</span> </span><span class="WHIT">   </span><span class="NAME">wPosition</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 58</span> </span><span class="WHIT">   </span><span class="NAME">wRotation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 59</span> </span><span class="WHIT">   </span><span class="NAME">wScale</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 60</span> </span><span class="WHIT">   </span><span class="NAME">bBox</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 61</span> </span><span class="WHIT">   </span><span class="NAME">backgroundColor</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 62</span> </span><span class="WHIT">	</span><span class="NAME">font</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"sans-serif"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 63</span> </span><span class="WHIT">	</span><span class="NAME">fontWeight</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 64</span> </span><span class="WHIT">	</span><span class="NAME">fontSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"12px"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 65</span> </span><span class="WHIT">	</span><span class="NAME">fontAlign</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"left"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 66</span> </span><span class="WHIT">	</span><span class="NAME">fontBaseline</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"alphabetic"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 67</span> </span><span class="WHIT">	</span><span class="NAME">fontStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 68</span> 
<span class='linenumber'> 69</span> </span><span class="WHIT">   </span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">surface</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 70</span> </span><span class="WHIT">      </span><span class="NAME">this.base</span><span class="PUNC">(</span><span class="NAME">name</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="STRN">"RenderContext2D"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">surface</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 71</span> </span><span class="WHIT">      </span><span class="NAME">this.wPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Point2D.create</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 72</span> </span><span class="WHIT">      </span><span class="NAME">this.wRotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 73</span> </span><span class="WHIT">      </span><span class="NAME">this.wScale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 74</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 75</span> 
<span class='linenumber'> 76</span> </span><span class="WHIT">   </span><span class="NAME">release</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 77</span> </span><span class="WHIT">      </span><span class="NAME">this.base</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 78</span> </span><span class="WHIT">      </span><span class="NAME">this.width</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 79</span> </span><span class="WHIT">      </span><span class="NAME">this.height</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 80</span> </span><span class="WHIT">      </span><span class="NAME">this.lineStyle</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 81</span> </span><span class="WHIT">      </span><span class="NAME">this.fillStyle</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 82</span> </span><span class="WHIT">      </span><span class="NAME">this.lineWidth</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 83</span> </span><span class="WHIT">      </span><span class="NAME">this.position</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 84</span> </span><span class="WHIT">      </span><span class="NAME">this.rotation</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 85</span> </span><span class="WHIT">      </span><span class="NAME">this.scaleX</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 86</span> </span><span class="WHIT">      </span><span class="NAME">this.scaleY</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 87</span> </span><span class="WHIT">      </span><span class="NAME">this.bBox</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 88</span> </span><span class="WHIT">      </span><span class="NAME">this.backgroundColor</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 89</span> </span><span class="WHIT">      </span><span class="NAME">this.wPosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 90</span> </span><span class="WHIT">      </span><span class="NAME">this.wRotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 91</span> </span><span class="WHIT">      </span><span class="NAME">this.wScale</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 92</span> </span><span class="WHIT">		</span><span class="NAME">this.font</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"sans-serif"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 93</span> </span><span class="WHIT">		</span><span class="NAME">this.fontWeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 94</span> </span><span class="WHIT">		</span><span class="NAME">this.fontSize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"12px"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 95</span> </span><span class="WHIT">		</span><span class="NAME">this.fontAlign</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"left"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 96</span> </span><span class="WHIT">		</span><span class="NAME">this.fontBaseline</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"alphabetic"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 97</span> </span><span class="WHIT">		</span><span class="NAME">this.fontStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 98</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 99</span> 
<span class='linenumber'>100</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>101</span>     * Set the background color of the context.
<span class='linenumber'>102</span>     *
<span class='linenumber'>103</span>     * @param color {String} An HTML color
<span class='linenumber'>104</span>     */</span><span class="WHIT">
<span class='linenumber'>105</span> </span><span class="WHIT">   </span><span class="NAME">setBackgroundColor</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">color</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>106</span> </span><span class="WHIT">      </span><span class="NAME">this.backgroundColor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>107</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>108</span> 
<span class='linenumber'>109</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>110</span>     * Get the color assigned to the context background.
<span class='linenumber'>111</span>     * @type String
<span class='linenumber'>112</span>     */</span><span class="WHIT">
<span class='linenumber'>113</span> </span><span class="WHIT">   </span><span class="NAME">getBackgroundColor</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>114</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.backgroundColor</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>115</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>116</span> 
<span class='linenumber'>117</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>118</span>     * Set the width of the context drawing area.
<span class='linenumber'>119</span>     *
<span class='linenumber'>120</span>     * @param width {Number} The width in pixels
<span class='linenumber'>121</span>     */</span><span class="WHIT">
<span class='linenumber'>122</span> </span><span class="WHIT">   </span><span class="NAME">setWidth</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>123</span> </span><span class="WHIT">      </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>124</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>125</span> 
<span class='linenumber'>126</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>127</span>     * Get the width of the context drawing area.
<span class='linenumber'>128</span>     * @type Number
<span class='linenumber'>129</span>     */</span><span class="WHIT">
<span class='linenumber'>130</span> </span><span class="WHIT">   </span><span class="NAME">getWidth</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>131</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.width</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>132</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>133</span> 
<span class='linenumber'>134</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>135</span>     * Set the height of the context drawing area
<span class='linenumber'>136</span>     *
<span class='linenumber'>137</span>     * @param height {Number} The height in pixels
<span class='linenumber'>138</span>     */</span><span class="WHIT">
<span class='linenumber'>139</span> </span><span class="WHIT">   </span><span class="NAME">setHeight</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">height</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>140</span> </span><span class="WHIT">      </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">height</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>141</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>142</span> 
<span class='linenumber'>143</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>144</span>     * Get the height of the context drawing area.
<span class='linenumber'>145</span>     * @type Number
<span class='linenumber'>146</span>     */</span><span class="WHIT">
<span class='linenumber'>147</span> </span><span class="WHIT">   </span><span class="NAME">getHeight</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>148</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.height</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>149</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>150</span> 
<span class='linenumber'>151</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>152</span>     * Get the bounding box for the rendering context.
<span class='linenumber'>153</span>     * @type Rectangle2D
<span class='linenumber'>154</span>     */</span><span class="WHIT">
<span class='linenumber'>155</span> </span><span class="WHIT">   </span><span class="NAME">getBoundingBox</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>156</span> </span><span class="WHIT">      </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.bBox</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>157</span> </span><span class="WHIT">         </span><span class="NAME">this.bBox</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Rectangle2D</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.getWidth</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.getHeight</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>158</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>159</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.bBox</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>160</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>161</span> 
<span class='linenumber'>162</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>163</span>     * Set the current transform position (translation).
<span class='linenumber'>164</span>     *
<span class='linenumber'>165</span>     * @param point {Point2D} The translation
<span class='linenumber'>166</span>     */</span><span class="WHIT">
<span class='linenumber'>167</span> </span><span class="WHIT">   </span><span class="NAME">setPosition</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>168</span> </span><span class="WHIT">      </span><span class="NAME">this.position</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">point</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>169</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>170</span> 
<span class='linenumber'>171</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>172</span>     * Get the current transform position (translation)
<span class='linenumber'>173</span>     * @type Point2D
<span class='linenumber'>174</span>     */</span><span class="WHIT">
<span class='linenumber'>175</span> </span><span class="WHIT">   </span><span class="NAME">getPosition</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>176</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.position</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>177</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>178</span> 
<span class='linenumber'>179</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>180</span>     * Set the rotation angle of the current transform
<span class='linenumber'>181</span>     *
<span class='linenumber'>182</span>     * @param angle {Number} An angle in degrees
<span class='linenumber'>183</span>     */</span><span class="WHIT">
<span class='linenumber'>184</span> </span><span class="WHIT">   </span><span class="NAME">setRotation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">angle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>185</span> </span><span class="WHIT">      </span><span class="NAME">this.rotation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">angle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>186</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>187</span> 
<span class='linenumber'>188</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>189</span>     * Get the current transform rotation.
<span class='linenumber'>190</span>     * @type Number
<span class='linenumber'>191</span>     */</span><span class="WHIT">
<span class='linenumber'>192</span> </span><span class="WHIT">   </span><span class="NAME">getRotation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>193</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.rotation</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>194</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>195</span> 
<span class='linenumber'>196</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>197</span>     * Set the scale of the current transform.  Specifying
<span class='linenumber'>198</span>     * only the first parameter implies a uniform scale.
<span class='linenumber'>199</span>     *
<span class='linenumber'>200</span>     * @param scaleX {Number} The X scaling factor, with 1 being 100%
<span class='linenumber'>201</span>     * @param scaleY {Number} The Y scaling factor
<span class='linenumber'>202</span>     */</span><span class="WHIT">
<span class='linenumber'>203</span> </span><span class="WHIT">   </span><span class="NAME">setScale</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">scaleX</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scaleY</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>204</span> </span><span class="WHIT">      </span><span class="NAME">this.scaleX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scaleX</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>205</span> </span><span class="WHIT">      </span><span class="NAME">this.scaleY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scaleY</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">scaleX</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>206</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>207</span> 
<span class='linenumber'>208</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>209</span>     * Get the X scaling factor of the current transform.
<span class='linenumber'>210</span>     * @type Number
<span class='linenumber'>211</span>     */</span><span class="WHIT">
<span class='linenumber'>212</span> </span><span class="WHIT">   </span><span class="NAME">getScaleX</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>213</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.scaleX</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>214</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>215</span> 
<span class='linenumber'>216</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>217</span>     * Get the Y scaling factor of the current transform.
<span class='linenumber'>218</span>     * @type Number
<span class='linenumber'>219</span>     */</span><span class="WHIT">
<span class='linenumber'>220</span> </span><span class="WHIT">   </span><span class="NAME">getScaleY</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>221</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.scaleY</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>222</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>223</span> 
<span class='linenumber'>224</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>225</span> 	 * Set the font to use when rendering text to the context.
<span class='linenumber'>226</span> 	 * @param font {String} A font string similar to CSS
<span class='linenumber'>227</span> 	 */</span><span class="WHIT">
<span class='linenumber'>228</span> </span><span class="WHIT">	</span><span class="NAME">setFont</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">font</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>229</span> </span><span class="WHIT">		</span><span class="NAME">this.font</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">font</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>230</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>231</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>232</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>233</span> 	 * Get the font currently being used to render text
<span class='linenumber'>234</span> 	 * @return {String}
<span class='linenumber'>235</span> 	 */</span><span class="WHIT">
<span class='linenumber'>236</span> </span><span class="WHIT">	</span><span class="NAME">getFont</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>237</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.font</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>238</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>239</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>240</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>241</span> 	 * Get the normalized font string used to describe the style. The
<span class='linenumber'>242</span> 	 * value includes style, weight, size, and font.
<span class='linenumber'>243</span> 	 * @return {String}
<span class='linenumber'>244</span> 	 */</span><span class="WHIT">
<span class='linenumber'>245</span> </span><span class="WHIT">	</span><span class="NAME">getNormalizedFont</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>246</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getFontStyle</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.getFontWeight</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.getFontSize</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">this.getFont</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>247</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>248</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>249</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>250</span> 	 * Set the size of the font being used to render text
<span class='linenumber'>251</span> 	 * @param size {String} The font size string
<span class='linenumber'>252</span> 	 */</span><span class="WHIT">
<span class='linenumber'>253</span> </span><span class="WHIT">	</span><span class="NAME">setFontSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">size</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>254</span> </span><span class="WHIT">		</span><span class="NAME">this.fontSize</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>255</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>256</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>257</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>258</span> 	 * Get the font size
<span class='linenumber'>259</span> 	 * @return {String}
<span class='linenumber'>260</span> 	 */</span><span class="WHIT">
<span class='linenumber'>261</span> </span><span class="WHIT">	</span><span class="NAME">getFontSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>262</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fontSize</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>263</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>264</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>265</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>266</span> 	 * Set the rendering weight of the font
<span class='linenumber'>267</span> 	 * @param weight {String}
<span class='linenumber'>268</span> 	 */</span><span class="WHIT">
<span class='linenumber'>269</span> </span><span class="WHIT">	</span><span class="NAME">setFontWeight</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">weight</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>270</span> </span><span class="WHIT">		</span><span class="NAME">this.fontWeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">weight</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>271</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>272</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>273</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>274</span> 	 * Get the weight of the font to be rendered to the context
<span class='linenumber'>275</span> 	 * @return {String}
<span class='linenumber'>276</span> 	 */</span><span class="WHIT">
<span class='linenumber'>277</span> </span><span class="WHIT">	</span><span class="NAME">getFontWeight</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>278</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fontWeight</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>279</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>280</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>281</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>282</span> 	 * Set the font alignment for the context
<span class='linenumber'>283</span> 	 * @param align {String} The font alignment
<span class='linenumber'>284</span> 	 */</span><span class="WHIT">
<span class='linenumber'>285</span> </span><span class="WHIT">	</span><span class="NAME">setFontAlign</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">align</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>286</span> </span><span class="WHIT">		</span><span class="NAME">this.fontAlign</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">align</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>287</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>288</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>289</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>290</span> 	 * Get the alignment of the font
<span class='linenumber'>291</span> 	 * @return {String}
<span class='linenumber'>292</span> 	 */</span><span class="WHIT">
<span class='linenumber'>293</span> </span><span class="WHIT">	</span><span class="NAME">getFontAlign</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>294</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fontAlign</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>295</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>296</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>297</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>298</span> 	 * Set the baseline of the renderable font
<span class='linenumber'>299</span> 	 * @param baseline {String} The render baseline
<span class='linenumber'>300</span> 	 */</span><span class="WHIT">
<span class='linenumber'>301</span> </span><span class="WHIT">	</span><span class="NAME">setFontBaseline</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">baseline</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>302</span> </span><span class="WHIT">		</span><span class="NAME">this.fontBaseline</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">baseline</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>303</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>304</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>305</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>306</span> 	 * Get the font baseline
<span class='linenumber'>307</span> 	 * @return {String}
<span class='linenumber'>308</span> 	 */</span><span class="WHIT">
<span class='linenumber'>309</span> </span><span class="WHIT">	</span><span class="NAME">getFontBaseline</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>310</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fontBaseline</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>311</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>312</span> 
<span class='linenumber'>313</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>314</span> 	 * Set the style of the renderable font
<span class='linenumber'>315</span> 	 * @param style {String} The font style
<span class='linenumber'>316</span> 	 */</span><span class="WHIT">
<span class='linenumber'>317</span> </span><span class="WHIT">	</span><span class="NAME">setFontStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">style</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>318</span> </span><span class="WHIT">		</span><span class="NAME">this.fontStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">style</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>319</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>320</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>321</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>322</span> 	 * Get the renderable style of the font
<span class='linenumber'>323</span> 	 * @return {String}
<span class='linenumber'>324</span> 	 */</span><span class="WHIT">
<span class='linenumber'>325</span> </span><span class="WHIT">	</span><span class="NAME">getFontStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>326</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fontStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>327</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>328</span> 
<span class='linenumber'>329</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>330</span>     * Set the transformation using a matrix.
<span class='linenumber'>331</span>     *
<span class='linenumber'>332</span>     * @param matrix {Matrix2D} The transformation matrix
<span class='linenumber'>333</span>     */</span><span class="WHIT">
<span class='linenumber'>334</span> </span><span class="WHIT">   </span><span class="NAME">setTransform</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">matrix</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>335</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>336</span> 
<span class='linenumber'>337</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>338</span>     * Set the transformation of the world.
<span class='linenumber'>339</span>     *
<span class='linenumber'>340</span>     * @param position {Point2D}
<span class='linenumber'>341</span>     * @param rotation {Number}
<span class='linenumber'>342</span>     * @param scale {Number}
<span class='linenumber'>343</span>     */</span><span class="WHIT">
<span class='linenumber'>344</span> </span><span class="WHIT">   </span><span class="NAME">setRenderTransform</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mtx3</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>345</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>346</span> 
<span class='linenumber'>347</span> </span><span class="WHIT">   </span><span class="NAME">getRenderPosition</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>348</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Point2D.ZERO</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>349</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>350</span> 
<span class='linenumber'>351</span> </span><span class="WHIT">   </span><span class="NAME">getRenderRotation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>352</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>353</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>354</span> 
<span class='linenumber'>355</span> </span><span class="WHIT">   </span><span class="NAME">getRenderScale</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>356</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NUMB">1.0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>357</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>358</span> 
<span class='linenumber'>359</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>360</span>     * Set the line style for the context.
<span class='linenumber'>361</span>     *
<span class='linenumber'>362</span>     * @param lineStyle {String} An HTML color or &lt;tt>null&lt;/tt>
<span class='linenumber'>363</span>     */</span><span class="WHIT">
<span class='linenumber'>364</span> </span><span class="WHIT">   </span><span class="NAME">setLineStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">lineStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>365</span> </span><span class="WHIT">      </span><span class="NAME">this.lineStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">lineStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>366</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>367</span> 
<span class='linenumber'>368</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>369</span>     * Get the current line style for the context.  &lt;tt>null&lt;/tt> if
<span class='linenumber'>370</span>     * not set.
<span class='linenumber'>371</span>     * @type String
<span class='linenumber'>372</span>     */</span><span class="WHIT">
<span class='linenumber'>373</span> </span><span class="WHIT">   </span><span class="NAME">getLineStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>374</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.lineStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>375</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>376</span> 
<span class='linenumber'>377</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>378</span>     * Set the line width for drawing paths.
<span class='linenumber'>379</span>     *
<span class='linenumber'>380</span>     * @param width {Number} The width of lines in pixels
<span class='linenumber'>381</span>     * @default 1
<span class='linenumber'>382</span>     */</span><span class="WHIT">
<span class='linenumber'>383</span> </span><span class="WHIT">   </span><span class="NAME">setLineWidth</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">width</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>384</span> </span><span class="WHIT">      </span><span class="NAME">this.lineWidth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">width</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>385</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>386</span> 
<span class='linenumber'>387</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>388</span>     * Get the current line width for drawing paths.
<span class='linenumber'>389</span>     * @type Number
<span class='linenumber'>390</span>     */</span><span class="WHIT">
<span class='linenumber'>391</span> </span><span class="WHIT">   </span><span class="NAME">getLineWidth</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>392</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.lineWidth</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>393</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>394</span> 
<span class='linenumber'>395</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>396</span>     * Set the fill style of the context.
<span class='linenumber'>397</span>     *
<span class='linenumber'>398</span>     * @param fillStyle {String} An HTML color, or &lt;tt>null&lt;/tt>.
<span class='linenumber'>399</span>     */</span><span class="WHIT">
<span class='linenumber'>400</span> </span><span class="WHIT">   </span><span class="NAME">setFillStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">fillStyle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>401</span> </span><span class="WHIT">      </span><span class="NAME">this.fillStyle</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">fillStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>402</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>403</span> 
<span class='linenumber'>404</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>405</span>     * Get the current fill style of the context.
<span class='linenumber'>406</span>     * @type String
<span class='linenumber'>407</span>     */</span><span class="WHIT">
<span class='linenumber'>408</span> </span><span class="WHIT">   </span><span class="NAME">getFillStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>409</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.fillStyle</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>410</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>411</span> 
<span class='linenumber'>412</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>413</span>     * Draw an un-filled rectangle on the context.
<span class='linenumber'>414</span>     *
<span class='linenumber'>415</span>     * @param rect {Rectangle2D} The rectangle to draw
<span class='linenumber'>416</span>     */</span><span class="WHIT">
<span class='linenumber'>417</span> </span><span class="WHIT">   </span><span class="NAME">drawRectangle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">rect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>418</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>419</span> 
<span class='linenumber'>420</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>421</span>     * Draw a filled rectangle on the context.
<span class='linenumber'>422</span>     *
<span class='linenumber'>423</span>     * @param rect {Rectangle2D} The rectangle to draw
<span class='linenumber'>424</span>     */</span><span class="WHIT">
<span class='linenumber'>425</span> </span><span class="WHIT">   </span><span class="NAME">drawFilledRectangle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">rect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>426</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>427</span> 
<span class='linenumber'>428</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>429</span>     * Draw an un-filled arc on the context.  Arcs are drawn in clockwise
<span class='linenumber'>430</span>     * order.
<span class='linenumber'>431</span>     *
<span class='linenumber'>432</span>     * @param point {Point2D} The point around which the arc will be drawn
<span class='linenumber'>433</span>     * @param radius {Number} The radius of the arc in pixels
<span class='linenumber'>434</span>     * @param startAngle {Number} The starting angle of the arc in degrees
<span class='linenumber'>435</span>     * @param endAngle {Number} The end angle of the arc in degrees
<span class='linenumber'>436</span>     */</span><span class="WHIT">
<span class='linenumber'>437</span> </span><span class="WHIT">   </span><span class="NAME">drawArc</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">startAngle</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endAngle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>438</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>439</span> 
<span class='linenumber'>440</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>441</span>     * Draw a filled arc on the context.  Arcs are drawn in clockwise
<span class='linenumber'>442</span>     * order.
<span class='linenumber'>443</span>     *
<span class='linenumber'>444</span>     * @param point {Point2D} The point around which the arc will be drawn
<span class='linenumber'>445</span>     * @param radius {Number} The radius of the arc in pixels
<span class='linenumber'>446</span>     * @param startAngle {Number} The starting angle of the arc in degrees
<span class='linenumber'>447</span>     * @param endAngle {Number} The end angle of the arc in degrees
<span class='linenumber'>448</span>     */</span><span class="WHIT">
<span class='linenumber'>449</span> </span><span class="WHIT">   </span><span class="NAME">drawFilledArc</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">startAngle</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endAngle</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>450</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>451</span> 
<span class='linenumber'>452</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>453</span>     * Helper method to draw a circle by calling the {@link #drawArc} method
<span class='linenumber'>454</span>     * with predefined start and end angle of zero and 6.28 radians.
<span class='linenumber'>455</span>     *
<span class='linenumber'>456</span>     * @param point {Point2D} The point around which the circle will be drawn
<span class='linenumber'>457</span>     * @param radius {Number} The radius of the circle in pixels
<span class='linenumber'>458</span>     */</span><span class="WHIT">
<span class='linenumber'>459</span> </span><span class="WHIT">   </span><span class="NAME">drawCircle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>460</span> </span><span class="WHIT">      </span><span class="NAME">this.drawArc</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6.28</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>461</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>462</span> </span><span class="WHIT">   </span><span class="WHIT">
<span class='linenumber'>463</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>464</span>     * Helper method to draw a filled circle by calling the {@link #drawFilledArc} method
<span class='linenumber'>465</span>     * with predefined start and end angle of zero and 6.28 radians.
<span class='linenumber'>466</span>     *
<span class='linenumber'>467</span>     * @param point {Point2D} The point around which the circle will be drawn
<span class='linenumber'>468</span>     * @param radius {Number} The radius of the circle in pixels
<span class='linenumber'>469</span>     */</span><span class="WHIT">
<span class='linenumber'>470</span> </span><span class="WHIT">   </span><span class="NAME">drawFilledCircle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>471</span> </span><span class="WHIT">      </span><span class="NAME">this.drawFilledArc</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">6.28</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>472</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>473</span> 
<span class='linenumber'>474</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>475</span>     * Draw a polygon or polyline using a Duff's device for
<span class='linenumber'>476</span>     * efficiency and loop unrolling with inversion for speed.
<span class='linenumber'>477</span>     *
<span class='linenumber'>478</span>     * @param pointArray {Array} An array of &lt;tt>Point2D&lt;/tt> objects
<span class='linenumber'>479</span>     * @param closedLoop {Boolean} &lt;tt>true&lt;/tt> to close the polygon
<span class='linenumber'>480</span>     * @private
<span class='linenumber'>481</span>     */</span><span class="WHIT">
<span class='linenumber'>482</span> </span><span class="WHIT">   </span><span class="NAME">_poly</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">closedLoop</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>483</span> </span><span class="WHIT">      </span><span class="NAME">this.startPath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>484</span> </span><span class="WHIT">      </span><span class="NAME">this.moveTo</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>485</span> </span><span class="WHIT">      </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">p</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>486</span> 
<span class='linenumber'>487</span> </span><span class="WHIT">      </span><span class="COMM">// Using Duff's device with loop inversion</span><span class="WHIT">
<span class='linenumber'>488</span> </span><span class="WHIT">      </span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">pointArray.length</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&</span><span class="WHIT"> </span><span class="NUMB">0x3</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>489</span> </span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>490</span> </span><span class="WHIT">         </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">:</span><span class="WHIT">
<span class='linenumber'>491</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>492</span> </span><span class="WHIT">         </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">:</span><span class="WHIT">
<span class='linenumber'>493</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>494</span> </span><span class="WHIT">         </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">:</span><span class="WHIT">
<span class='linenumber'>495</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>496</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>497</span> 
<span class='linenumber'>498</span> </span><span class="WHIT">      </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">p</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">pointArray.length</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>499</span> </span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>500</span> </span><span class="WHIT">         </span><span class="KEYW">do</span><span class="WHIT">
<span class='linenumber'>501</span> </span><span class="WHIT">         </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>502</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>503</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>504</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>505</span> </span><span class="WHIT">            </span><span class="NAME">this.lineSeg</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">[</span><span class="NAME">p</span><span class="PUNC">++</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>506</span> </span><span class="WHIT">         </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">while</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">p</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">pointArray.length</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>507</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>508</span> 
<span class='linenumber'>509</span> </span><span class="WHIT">      </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">closedLoop</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>510</span> </span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>511</span> </span><span class="WHIT">         </span><span class="NAME">this.endPath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>512</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>513</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>514</span> 
<span class='linenumber'>515</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>516</span>     * Draw an un-filled polygon on the context.
<span class='linenumber'>517</span>     *
<span class='linenumber'>518</span>     * @param pointArray {Array} An array of {@link Point2D} objects
<span class='linenumber'>519</span>     */</span><span class="WHIT">
<span class='linenumber'>520</span> </span><span class="WHIT">   </span><span class="NAME">drawPolygon</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>521</span> </span><span class="WHIT">      </span><span class="NAME">this._poly</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>522</span> </span><span class="WHIT">      </span><span class="NAME">this.strokePath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>523</span> </span><span class="WHIT">      </span><span class="NAME">this.lineSeg.moveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>524</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>525</span> 
<span class='linenumber'>526</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>527</span>     * Draw a non-closed poly line on the context.
<span class='linenumber'>528</span>     *
<span class='linenumber'>529</span>     * @param pointArray {Array} An array of {@link Point2D} objects
<span class='linenumber'>530</span>     */</span><span class="WHIT">
<span class='linenumber'>531</span> </span><span class="WHIT">   </span><span class="NAME">drawPolyline</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>532</span> </span><span class="WHIT">      </span><span class="NAME">this._poly</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>533</span> </span><span class="WHIT">      </span><span class="NAME">this.strokePath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>534</span> </span><span class="WHIT">      </span><span class="NAME">this.lineSeg.moveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>535</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>536</span> 
<span class='linenumber'>537</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>538</span>     * Draw an filled polygon on the context.
<span class='linenumber'>539</span>     *
<span class='linenumber'>540</span>     * @param pointArray {Array} An array of {@link Point2D} objects
<span class='linenumber'>541</span>     */</span><span class="WHIT">
<span class='linenumber'>542</span> </span><span class="WHIT">   </span><span class="NAME">drawFilledPolygon</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>543</span> </span><span class="WHIT">      </span><span class="NAME">this._poly</span><span class="PUNC">(</span><span class="NAME">pointArray</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>544</span> </span><span class="WHIT">      </span><span class="NAME">this.fillPath</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>545</span> </span><span class="WHIT">      </span><span class="NAME">this.lineSeg.moveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>546</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>547</span> 
<span class='linenumber'>548</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>549</span>     * Draw a line on the context.
<span class='linenumber'>550</span>     *
<span class='linenumber'>551</span>     * @param point1 {Point2D} The start of the line
<span class='linenumber'>552</span>     * @param point2 {Point2D} The end of the line
<span class='linenumber'>553</span>     */</span><span class="WHIT">
<span class='linenumber'>554</span> </span><span class="WHIT">   </span><span class="NAME">drawLine</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>555</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>556</span> 
<span class='linenumber'>557</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>558</span>     * Draw a point on the context.
<span class='linenumber'>559</span>     *
<span class='linenumber'>560</span>     * @param point {Point2D} The position to draw the point
<span class='linenumber'>561</span>     */</span><span class="WHIT">
<span class='linenumber'>562</span> </span><span class="WHIT">   </span><span class="NAME">drawPoint</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>563</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>564</span> 
<span class='linenumber'>565</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>566</span>     * Draw a sprite on the context.
<span class='linenumber'>567</span>     *
<span class='linenumber'>568</span>     * @param obj {Object} A reference object, or &lt;tt>null&lt;/tt>
<span class='linenumber'>569</span>     * @param sprite {Sprite} The sprite to draw
<span class='linenumber'>570</span>     * @param time {Number} The current world time
<span class='linenumber'>571</span>     */</span><span class="WHIT">
<span class='linenumber'>572</span> </span><span class="WHIT">   </span><span class="NAME">drawSprite</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sprite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">time</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>573</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>574</span> 
<span class='linenumber'>575</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>576</span>     * Draw an image on the context.
<span class='linenumber'>577</span>     *
<span class='linenumber'>578</span>     * @param obj {Object} A reference object, or &lt;tt>null&lt;/tt>
<span class='linenumber'>579</span>     * @param rect {Rectangle2D} The rectangle that specifies the position and
<span class='linenumber'>580</span>     *             dimensions of the image rectangle.
<span class='linenumber'>581</span>     * @param image {Object} The image to draw onto the context
<span class='linenumber'>582</span>     * @param [srcRect] {Rectangle2D} &lt;i>[optional]&lt;/i> The source rectangle within the image, if
<span class='linenumber'>583</span>     *                &lt;tt>null&lt;/tt> the entire image is used
<span class='linenumber'>584</span>     */</span><span class="WHIT">
<span class='linenumber'>585</span> </span><span class="WHIT">   </span><span class="NAME">drawImage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rect</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">srcRect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>586</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>587</span> 
<span class='linenumber'>588</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>589</span>     * Capture an image from the context.
<span class='linenumber'>590</span>     *
<span class='linenumber'>591</span>     * @param rect {Rectangle2D} The area to capture
<span class='linenumber'>592</span>     * @returns Image data capture
<span class='linenumber'>593</span>     * @type ImageData
<span class='linenumber'>594</span>     */</span><span class="WHIT">
<span class='linenumber'>595</span> </span><span class="WHIT">   </span><span class="NAME">getImage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">rect</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>596</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>597</span> 
<span class='linenumber'>598</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>599</span>     * Draw an image, captured with {@link #getImage}, to
<span class='linenumber'>600</span>     * the context.
<span class='linenumber'>601</span>     *
<span class='linenumber'>602</span>     * @param imageData {ImageData} Image data captured
<span class='linenumber'>603</span>     * @param point {Point2D} The poisition at which to draw the image
<span class='linenumber'>604</span>     */</span><span class="WHIT">
<span class='linenumber'>605</span> </span><span class="WHIT">   </span><span class="NAME">putImage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">imageData</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>606</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>607</span> 
<span class='linenumber'>608</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>609</span>     * Draw text on the context.
<span class='linenumber'>610</span>     *
<span class='linenumber'>611</span>     * @param point {Point2D} The top-left position to draw the image.
<span class='linenumber'>612</span>     * @param text {String} The text to draw
<span class='linenumber'>613</span>     */</span><span class="WHIT">
<span class='linenumber'>614</span> </span><span class="WHIT">   </span><span class="NAME">drawText</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>615</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>616</span> 
<span class='linenumber'>617</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>618</span>     * Start a path.
<span class='linenumber'>619</span>     */</span><span class="WHIT">
<span class='linenumber'>620</span> </span><span class="WHIT">   </span><span class="NAME">startPath</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>621</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>622</span> 
<span class='linenumber'>623</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>624</span>     * End a path.
<span class='linenumber'>625</span>     */</span><span class="WHIT">
<span class='linenumber'>626</span> </span><span class="WHIT">   </span><span class="NAME">endPath</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>627</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>628</span> 
<span class='linenumber'>629</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>630</span>     * Stroke a path using the current line style and width.
<span class='linenumber'>631</span>     */</span><span class="WHIT">
<span class='linenumber'>632</span> </span><span class="WHIT">   </span><span class="NAME">strokePath</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>633</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>634</span> 
<span class='linenumber'>635</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>636</span>     * Fill a path using the current fill style.
<span class='linenumber'>637</span>     */</span><span class="WHIT">
<span class='linenumber'>638</span> </span><span class="WHIT">   </span><span class="NAME">fillPath</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>639</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>640</span> 
<span class='linenumber'>641</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>642</span>     * Move the current path to the point sepcified.
<span class='linenumber'>643</span>     *
<span class='linenumber'>644</span>     * @param point {Point2D} The point to move to
<span class='linenumber'>645</span>     */</span><span class="WHIT">
<span class='linenumber'>646</span> </span><span class="WHIT">   </span><span class="NAME">moveTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>647</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>648</span> 
<span class='linenumber'>649</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>650</span>     * Draw a line from the current point to the point specified.
<span class='linenumber'>651</span>     *
<span class='linenumber'>652</span>     * @param point {Point2D} The point to draw a line to
<span class='linenumber'>653</span>     */</span><span class="WHIT">
<span class='linenumber'>654</span> </span><span class="WHIT">   </span><span class="NAME">lineTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>655</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>656</span> 
<span class='linenumber'>657</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>658</span>     * Used to draw line segments for polylines.  If &lt;tt>point&lt;/tt>
<span class='linenumber'>659</span>     * is &lt;tt>null&lt;/tt>, the context will move to the next point.  Otherwise,
<span class='linenumber'>660</span>     * it will draw a line to the point.
<span class='linenumber'>661</span>     *
<span class='linenumber'>662</span>     * @param point {Point2D} The point to draw a line to, or null.
<span class='linenumber'>663</span>     */</span><span class="WHIT">
<span class='linenumber'>664</span> </span><span class="WHIT">   </span><span class="NAME">lineSeg</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>665</span> </span><span class="WHIT">      </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">point</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>666</span> </span><span class="WHIT">         </span><span class="NAME">this.lineSeg.moveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>667</span> </span><span class="WHIT">         </span><span class="KEYW">return</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>668</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>669</span> 
<span class='linenumber'>670</span> </span><span class="WHIT">      </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.lineSeg.moveTo</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>671</span> </span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>672</span> </span><span class="WHIT">         </span><span class="COMM">// Cannot have two subsequent nulls</span><span class="WHIT">
<span class='linenumber'>673</span> </span><span class="WHIT">         </span><span class="NAME">Assert</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">point</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"LineSeg repeated null!"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>674</span> </span><span class="WHIT">         </span><span class="NAME">this.moveTo</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>675</span> </span><span class="WHIT">         </span><span class="NAME">this.lineSeg.moveTo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>676</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>677</span> </span><span class="WHIT">      </span><span class="KEYW">else</span><span class="WHIT">
<span class='linenumber'>678</span> </span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>679</span> </span><span class="WHIT">         </span><span class="NAME">this.lineTo</span><span class="PUNC">(</span><span class="NAME">point</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>680</span> </span><span class="WHIT">      </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>681</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>682</span> 
<span class='linenumber'>683</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>684</span>     * Draw a quadratic curve from the current point to the specified point.
<span class='linenumber'>685</span>     *
<span class='linenumber'>686</span>     * @param cPoint {Point2D} The control point
<span class='linenumber'>687</span>     * @param point {Point2D} The point to draw to
<span class='linenumber'>688</span>     */</span><span class="WHIT">
<span class='linenumber'>689</span> </span><span class="WHIT">   </span><span class="NAME">quadraticCurveTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">cPoint</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>690</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>691</span> 
<span class='linenumber'>692</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>693</span>     * Draw a bezier curve from the current point to the specified point.
<span class='linenumber'>694</span>     *
<span class='linenumber'>695</span>     * @param cPoint1 {Point2D} Control point 1
<span class='linenumber'>696</span>     * @param cPoint2 {Point2D} Control point 2
<span class='linenumber'>697</span>     * @param point {Point2D} The point to draw to
<span class='linenumber'>698</span>     */</span><span class="WHIT">
<span class='linenumber'>699</span> </span><span class="WHIT">   </span><span class="NAME">bezierCurveTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">cPoint1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">cPoint2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>700</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>701</span> 
<span class='linenumber'>702</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>703</span>     * Draw an arc from the current point to the specified point.
<span class='linenumber'>704</span>     *
<span class='linenumber'>705</span>     * @param point1 {Point2D} Arc point 1
<span class='linenumber'>706</span>     * @param point2 {Point2D} Arc point 2
<span class='linenumber'>707</span>     * @param radius {Number} The radius of the arc
<span class='linenumber'>708</span>     */</span><span class="WHIT">
<span class='linenumber'>709</span> </span><span class="WHIT">   </span><span class="NAME">arcTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">point1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">point2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">radius</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>710</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>711</span> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>712</span> </span><span class="WHIT">   </span><span class="COMM">/**
<span class='linenumber'>713</span>     * Get the class name of this object
<span class='linenumber'>714</span>     *
<span class='linenumber'>715</span>     * @type String
<span class='linenumber'>716</span>     * @memberOf RenderContext2D
<span class='linenumber'>717</span>     */</span><span class="WHIT">
<span class='linenumber'>718</span> </span><span class="WHIT">   </span><span class="NAME">getClassName</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>719</span> </span><span class="WHIT">      </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">"RenderContext2D"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>720</span> </span><span class="WHIT">   </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>721</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>722</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>723</span> 	 * Bold text weight
<span class='linenumber'>724</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>725</span> 	 */</span><span class="WHIT">
<span class='linenumber'>726</span> </span><span class="WHIT">	</span><span class="NAME">FONT_WEIGHT_BOLD</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"bold"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>727</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>728</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>729</span> 	 * Normal text weight
<span class='linenumber'>730</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>731</span> 	 */</span><span class="WHIT">
<span class='linenumber'>732</span> </span><span class="WHIT">	</span><span class="NAME">FONT_WEIGHT_NORMAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>733</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>734</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>735</span> 	 * Light text weight
<span class='linenumber'>736</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>737</span> 	 */</span><span class="WHIT">
<span class='linenumber'>738</span> </span><span class="WHIT">	</span><span class="NAME">FONT_WEIGHT_LIGHT</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"light"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>739</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>740</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>741</span> 	 * Text align left
<span class='linenumber'>742</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>743</span> 	 */</span><span class="WHIT">
<span class='linenumber'>744</span> </span><span class="WHIT">	</span><span class="NAME">FONT_ALIGN_LEFT</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"left"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>745</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>746</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>747</span> 	 * Text align right
<span class='linenumber'>748</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>749</span> 	 */</span><span class="WHIT">
<span class='linenumber'>750</span> </span><span class="WHIT">	</span><span class="NAME">FONT_ALIGN_RIGHT</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"right"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>751</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>752</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>753</span> 	 * Text align center
<span class='linenumber'>754</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>755</span> 	 */</span><span class="WHIT">
<span class='linenumber'>756</span> </span><span class="WHIT">	</span><span class="NAME">FONT_ALIGN_CENTER</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"center"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>757</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>758</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>759</span> 	 * Text align start of stroke
<span class='linenumber'>760</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>761</span> 	 */</span><span class="WHIT">
<span class='linenumber'>762</span> </span><span class="WHIT">	</span><span class="NAME">FONT_ALIGN_START</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"start"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>763</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>764</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>765</span> 	 * Text align end of stroke
<span class='linenumber'>766</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>767</span> 	 */</span><span class="WHIT">
<span class='linenumber'>768</span> </span><span class="WHIT">	</span><span class="NAME">FONT_ALIGN_END</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"end"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>769</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>770</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>771</span> 	 * Text baseline alphabetic
<span class='linenumber'>772</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>773</span> 	 */</span><span class="WHIT">
<span class='linenumber'>774</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_ALPHABETIC</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"alphabetic"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>775</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>776</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>777</span> 	 * Text baseline top of em box
<span class='linenumber'>778</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>779</span> 	 */</span><span class="WHIT">
<span class='linenumber'>780</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_TOP</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"top"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>781</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>782</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>783</span> 	 * Text baseline hanging ideograph
<span class='linenumber'>784</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>785</span> 	 */</span><span class="WHIT">
<span class='linenumber'>786</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_HANGING</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"hanging"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>787</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>788</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>789</span> 	 * Text baseline middle of em square
<span class='linenumber'>790</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>791</span> 	 */</span><span class="WHIT">
<span class='linenumber'>792</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_MIDDLE</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"middle"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>793</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>794</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>795</span> 	 * Text baseline ideographic bottom
<span class='linenumber'>796</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>797</span> 	 */</span><span class="WHIT">
<span class='linenumber'>798</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_IDEOGRAPHIC</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"ideographic"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>799</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>800</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>801</span> 	 * Text baseline bottom of em square
<span class='linenumber'>802</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>803</span> 	 */</span><span class="WHIT">
<span class='linenumber'>804</span> </span><span class="WHIT">	</span><span class="NAME">FONT_BASELINE_BOTTOM</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"bottom"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>805</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>806</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>807</span> 	 * Text style italic
<span class='linenumber'>808</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>809</span> 	 */</span><span class="WHIT">
<span class='linenumber'>810</span> </span><span class="WHIT">	</span><span class="NAME">FONT_STYLE_ITALIC</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"italic"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>811</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>812</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>813</span> 	 * Text style normal
<span class='linenumber'>814</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>815</span> 	 */</span><span class="WHIT">
<span class='linenumber'>816</span> </span><span class="WHIT">	</span><span class="NAME">FONT_STYLE_NORMAL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"normal"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'>817</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>818</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='linenumber'>819</span> 	 * Text style oblique
<span class='linenumber'>820</span> 	 * @memberOf RenderContext2D
<span class='linenumber'>821</span> 	 */</span><span class="WHIT">
<span class='linenumber'>822</span> </span><span class="WHIT">	</span><span class="NAME">FONT_STYLE_OBLIQUE</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"oblique"</span><span class="WHIT">
<span class='linenumber'>823</span> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>824</span> 
<span class='linenumber'>825</span> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">RenderContext2D</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>826</span> 
<span class='linenumber'>827</span> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span></pre>
<hr>

   <div class="jsdoc_copy">&copy;2009 Brett Fattori</div>

<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoctoolkit.org/" target="_parent">JsDoc Toolkit</a> 1.4.1b on Tue Nov 10 2009 19:32:31 GMT-0500 (EST)</div>
</body>
</html>